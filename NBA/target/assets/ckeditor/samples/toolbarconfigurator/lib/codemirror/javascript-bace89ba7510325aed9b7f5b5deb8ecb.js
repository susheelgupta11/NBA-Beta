(function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(e){e.defineMode("javascript",function(t,n){function r(e,t,n){St=e;xt=n;return t}function i(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=s(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return r("number","number");if("."==n&&e.match(".."))return r("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return r(n);if("="==n&&e.eat(">"))return r("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),r("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),r("number","number");if("/"==n){if(e.eat("*"))return t.tokenize=o,o(e,t);if(e.eat("/"))return e.skipToEnd(),r("comment","comment");if("operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)){e:for(var n=!1,i,a=!1;null!=(i=e.next());){if(!n){if("/"==i&&!a)break e;"["==i?a=!0:a&&"]"==i&&(a=!1)}n=!n&&"\\"==i}e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return r("regexp","string-2")}e.eatWhile(wt);return r("operator","operator",e.current())}if("`"==n)return t.tokenize=u,u(e,t);if("#"==n)return e.skipToEnd(),r("error","error");if(wt.test(n))return e.eatWhile(wt),r("operator","operator",e.current());if(yt.test(n))return e.eatWhile(yt),n=e.current(),(i=bt.propertyIsEnumerable(n)&&bt[n])&&"."!=t.lastType?r(i.type,i.style,n):r("variable","variable",n)}function s(e){return function(t,n){var s=!1,o;if(vt&&"@"==t.peek()&&t.match(Et))return n.tokenize=i,r("jsonld-keyword","meta");for(;null!=(o=t.next())&&(o!=e||s);)s=!s&&"\\"==o;s||(n.tokenize=i);return r("string","string")}}function o(e,t){for(var n=!1,s;s=e.next();){if("/"==s&&n){t.tokenize=i;break}n="*"==s}return r("comment","comment")}function u(e,t){for(var n=!1,s;null!=(s=e.next());){if(!n&&("`"==s||"$"==s&&e.eat("{"))){t.tokenize=i;break}n=!n&&"\\"==s}return r("quasi","string-2",e.current())}function a(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(0>n)){for(var r=0,i=!1,n=n-1;0<=n;--n){var s=e.string.charAt(n),o="([{}])".indexOf(s);if(0<=o&&3>o){if(!r){++n;break}if(0==--r)break}else if(3<=o&&6>o)++r;else if(yt.test(s))i=!0;else{if(/["'\/]/.test(s))return;if(i&&!r){++n;break}}}i&&!r&&(t.fatArrowAt=n)}}function f(e,t,n,r,i,s){this.indented=e;this.column=t;this.type=n;this.prev=i;this.info=s;null!=r&&(this.align=r)}function l(){for(var e=arguments.length-1;0<=e;e--)Nt.cc.push(arguments[e])}function c(){l.apply(null,arguments);return!0}function h(e){function t(t){for(;t;t=t.next)if(t.name==e)return!0;return!1}var r=Nt.state;r.context?(Nt.marked="def",t(r.localVars)||(r.localVars={name:e,next:r.localVars})):!t(r.globalVars)&&n.globalVars&&(r.globalVars={name:e,next:r.globalVars})}function d(){Nt.state.context={prev:Nt.state.context,vars:Nt.state.localVars};Nt.state.localVars=Ct}function v(){Nt.state.localVars=Nt.state.context.vars;Nt.state.context=Nt.state.context.prev}function m(e,t){var n=function(){var n=Nt.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new f(r,Nt.stream.column(),e,null,n.lexical,t)};n.lex=!0;return n}function g(){var e=Nt.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function y(e){function t(n){return n==e?c():";"==e?l():c(t)}return t}function b(e,t){return"var"==e?c(m("vardef",t.length),R,y(";"),g):"keyword a"==e?c(m("form"),w,b,g):"keyword b"==e?c(m("form"),b,g):"{"==e?c(m("}"),F,g):";"==e?c():"if"==e?("else"==Nt.state.lexical.info&&Nt.state.cc[Nt.state.cc.length-1]==g&&Nt.state.cc.pop()(),c(m("form"),w,b,g,V)):"function"==e?c(Y):"for"==e?c(m("form"),$,b,g):"variable"==e?c(m("stat"),M):"switch"==e?c(m("form"),w,m("}","switch"),y("{"),F,g,g):"case"==e?c(w,y(":")):"default"==e?c(y(":")):"catch"==e?c(m("form"),d,y("("),Z,y(")"),b,g,v):"module"==e?c(m("form"),d,it,v,g):"class"==e?c(m("form"),et,g):"export"==e?c(m("form"),st,g):"import"==e?c(m("form"),ot,g):l(m("stat"),w,y(";"),g)}function w(e){return S(e,!1)}function E(e){return S(e,!0)}function S(e,t){if(Nt.state.fatArrowAt==Nt.stream.start){var n=t?O:A;if("("==e)return c(d,m(")"),B(U,")"),g,y("=>"),n,v);if("variable"==e)return l(d,U,y("=>"),n,v)}n=t?C:N;return Tt.hasOwnProperty(e)?c(n):"function"==e?c(Y,n):"keyword c"==e?c(t?T:x):"("==e?c(m(")"),x,ht,y(")"),g,n):"operator"==e||"spread"==e?c(t?E:w):"["==e?c(m("]"),lt,g,n):"{"==e?j(D,"}",null,n):"quasi"==e?l(k,n):c()}function x(e){return e.match(/[;\}\)\],]/)?l():l(w)}function T(e){return e.match(/[;\}\)\],]/)?l():l(E)}function N(e,t){return","==e?c(w):C(e,t,!1)}function C(e,t,n){var r=0==n?N:C,i=0==n?w:E;if("=>"==e)return c(d,n?O:A,v);if("operator"==e)return/\+\+|--/.test(t)?c(r):"?"==t?c(w,y(":"),i):c(i);if("quasi"==e)return l(k,r);if(";"!=e){if("("==e)return j(E,")","call",r);if("."==e)return c(_,r);if("["==e)return c(m("]"),x,y("]"),g,r)}}function k(e,t){return"quasi"!=e?l():"${"!=t.slice(t.length-2)?c(k):c(w,L)}function L(e){if("}"==e)return Nt.marked="string-2",Nt.state.tokenize=u,c(k)}function A(e){a(Nt.stream,Nt.state);return l("{"==e?b:w)}function O(e){a(Nt.stream,Nt.state);return l("{"==e?b:E)}function M(e){return":"==e?c(g,b):l(N,y(";"),g)}function _(e){if("variable"==e)return Nt.marked="property",c()}function D(e,t){if("variable"==e||"keyword"==Nt.style)return Nt.marked="property","get"==t||"set"==t?c(P):c(H);if("number"==e||"string"==e)return Nt.marked=vt?"property":Nt.style+" property",c(H);if("jsonld-keyword"==e)return c(H);if("["==e)return c(w,y("]"),H)}function P(e){if("variable"!=e)return l(H);Nt.marked="property";return c(Y)}function H(e){if(":"==e)return c(E);if("("==e)return l(Y)}function B(e,t){function n(r){return","==r?(r=Nt.state.lexical,"call"==r.info&&(r.pos=(r.pos||0)+1),c(e,n)):r==t?c():c(y(t))}return function(r){return r==t?c():l(e,n)}}function j(e,t,n){for(var r=3;r<arguments.length;r++)Nt.cc.push(arguments[r]);return c(m(t,n),B(e,t),g)}function F(e){return"}"==e?c():l(b,F)}function I(e){if(gt&&":"==e)return c(q)}function q(e){if("variable"==e)return Nt.marked="variable-3",c()}function R(){return l(U,I,W,X)}function U(e,t){if("variable"==e)return h(t),c();if("["==e)return j(U,"]");if("{"==e)return j(z,"}")}function z(e,t){if("variable"==e&&!Nt.stream.match(/^\s*:/,!1))return h(t),c(W);"variable"==e&&(Nt.marked="property");return c(y(":"),U,W)}function W(e,t){if("="==t)return c(E)}function X(e){if(","==e)return c(R)}function V(e,t){if("keyword b"==e&&"else"==t)return c(m("form","else"),b,g)}function $(e){if("("==e)return c(m(")"),J,y(")"),g)}function J(e){return"var"==e?c(R,y(";"),Q):";"==e?c(Q):"variable"==e?c(K):l(w,y(";"),Q)}function K(e,t){return"in"==t||"of"==t?(Nt.marked="keyword",c(w)):c(N,Q)}function Q(e,t){return";"==e?c(G):"in"==t||"of"==t?(Nt.marked="keyword",c(w)):l(w,y(";"),G)}function G(e){")"!=e&&c(w)}function Y(e,t){if("*"==t)return Nt.marked="keyword",c(Y);if("variable"==e)return h(t),c(Y);if("("==e)return c(d,m(")"),B(Z,")"),g,b,v)}function Z(e){return"spread"==e?c(Z):l(U,I)}function et(e,t){if("variable"==e)return h(t),c(tt)}function tt(e,t){if("extends"==t)return c(w,tt);if("{"==e)return c(m("}"),nt,g)}function nt(e,t){if("variable"==e||"keyword"==Nt.style){if("static"==t)return Nt.marked="keyword",c(nt);Nt.marked="property";return"get"==t||"set"==t?c(rt,Y,nt):c(Y,nt)}if("*"==t)return Nt.marked="keyword",c(nt);if(";"==e)return c(nt);if("}"==e)return c()}function rt(e){if("variable"!=e)return l();Nt.marked="property";return c()}function it(e,t){if("string"==e)return c(b);if("variable"==e)return h(t),c(ft)}function st(e,t){return"*"==t?(Nt.marked="keyword",c(ft,y(";"))):"default"==t?(Nt.marked="keyword",c(w,y(";"))):l(b)}function ot(e){return"string"==e?c():l(ut,ft)}function ut(e,t){if("{"==e)return j(ut,"}");"variable"==e&&h(t);"*"==t&&(Nt.marked="keyword");return c(at)}function at(e,t){if("as"==t)return Nt.marked="keyword",c(ut)}function ft(e,t){if("from"==t)return Nt.marked="keyword",c(w)}function lt(e){return"]"==e?c():l(E,ct)}function ct(e){return"for"==e?l(ht,y("]")):","==e?c(B(T,"]")):l(B(E,"]"))}function ht(e){if("for"==e)return c($,ht);if("if"==e)return c(w,ht)}var pt=t.indentUnit,dt=n.statementIndent,vt=n.jsonld,mt=n.json||vt,gt=n.typescript,yt=n.wordCharacters||/[\w$\xa1-\uffff]/,bt=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),s={type:"atom",style:"atom"},t={"if":e("if"),"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"debugger":r,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":s,"false":s,"null":s,"undefined":s,NaN:s,Infinity:s,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),yield:r,"export":e("export"),"import":e("import"),"extends":r};if(gt){var n={type:"variable",style:"variable-3"},n={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:n,number:n,bool:n,any:n},o;for(o in n)t[o]=n[o]}return t}(),wt=/[+\-*&%=<>!?|~^]/,Et=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,St,xt,Tt={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Nt={state:null,column:null,marked:null,cc:null},Ct={name:"this",next:{name:"arguments"}};g.lex=!0;return{startState:function(e){e={tokenize:i,lastType:"sof",cc:[],lexical:new f((e||0)-pt,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:0};n.globalVars&&"object"==typeof n.globalVars&&(e.globalVars=n.globalVars);return e},token:function(e,t){e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),a(e,t));if(t.tokenize!=o&&e.eatSpace())return null;var n=t.tokenize(e,t);if("comment"==St)return n;t.lastType="operator"!=St||"++"!=xt&&"--"!=xt?St:"incdec";e:{var r=St,i=xt,s=t.cc;Nt.state=t;Nt.stream=e;Nt.marked=null;Nt.cc=s;Nt.style=n;t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);for(;;)if((s.length?s.pop():mt?w:b)(r,i)){for(;s.length&&s[s.length-1].lex;)s.pop()();if(Nt.marked){n=Nt.marked;break e}if(r="variable"==r)t:{for(r=t.localVars;r;r=r.next)if(r.name==i){r=!0;break t}for(s=t.context;s;s=s.prev)for(r=s.vars;r;r=r.next)if(r.name==i){r=!0;break t}r=void 0}if(r){n="variable-2";break e}break e}}return n},indent:function(t,r){if(t.tokenize==o)return e.Pass;if(t.tokenize!=i)return 0;var s=r&&r.charAt(0),u=t.lexical;if(!/^\s*else\b/.test(r))for(var a=t.cc.length-1;0<=a;--a){var f=t.cc[a];if(f==g)u=u.prev;else if(f!=V)break}"stat"==u.type&&"}"==s&&(u=u.prev);dt&&")"==u.type&&"stat"==u.prev.type&&(u=u.prev);a=u.type;f=s==a;return"vardef"==a?u.indented+("operator"==t.lastType||","==t.lastType?u.info+1:0):"form"==a&&"{"==s?u.indented:"form"==a?u.indented+pt:"stat"==a?(s=u.indented,u="operator"==t.lastType||","==t.lastType||wt.test(r.charAt(0))||/[,.]/.test(r.charAt(0)),s+(u?dt||pt:0)):"switch"!=u.info||f||0==n.doubleIndentSwitch?u.align?u.column+(f?0:1):u.indented+(f?0:pt):u.indented+(/^(?:case|default)\b/.test(r)?pt:2*pt)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:mt?null:"/*",blockCommentEnd:mt?null:"*/",lineComment:mt?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:mt?"json":"javascript",jsonldMode:vt,jsonMode:mt}});e.registerHelper("wordChars","javascript",/[\w$]/);e.defineMIME("text/javascript","javascript");e.defineMIME("text/ecmascript","javascript");e.defineMIME("application/javascript","javascript");e.defineMIME("application/x-javascript","javascript");e.defineMIME("application/ecmascript","javascript");e.defineMIME("application/json",{name:"javascript",json:!0});e.defineMIME("application/x-json",{name:"javascript",json:!0});e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});e.defineMIME("text/typescript",{name:"javascript",typescript:!0});e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})