YAHOO.util.Anim=function(e,t,n,r){if(e){this.init(e,t,n,r)}};YAHOO.util.Anim.prototype={doMethod:function(e,t,n){return this.method(this.currentFrame,t,n-t,this.totalFrames)},setAttribute:function(e,t,n){YAHOO.util.Dom.setStyle(this.getEl(),e,t+n)},getAttribute:function(e){return parseFloat(YAHOO.util.Dom.getStyle(this.getEl(),e))},defaultUnit:"px",defaultUnits:{opacity:" "},init:function(e,t,n,r){var i=false;var s=null;var o=null;var u=0;var a={};e=YAHOO.util.Dom.get(e);this.attributes=t||{};this.duration=n||1;this.method=r||YAHOO.util.Easing.easeNone;this.useSeconds=true;this.currentFrame=0;this.totalFrames=YAHOO.util.AnimMgr.fps;this.getEl=function(){return e};this.setDefault=function(t,n){if(n.constructor!=Array&&(n=="auto"||isNaN(n))){switch(t){case"width":n=e.clientWidth||e.offsetWidth;break;case"height":n=e.clientHeight||e.offsetHeight;break;case"left":if(YAHOO.util.Dom.getStyle(e,"position")=="absolute"){n=e.offsetLeft}else{n=0}break;case"top":if(YAHOO.util.Dom.getStyle(e,"position")=="absolute"){n=e.offsetTop}else{n=0}break;default:n=0}}a[t]=n};this.getDefault=function(e){return a[e]};this.isAnimated=function(){return i};this.getStartTime=function(){return s};this.animate=function(){if(this.isAnimated()){return false}this.onStart.fire();this._onStart.fire();this.totalFrames=this.useSeconds?Math.ceil(YAHOO.util.AnimMgr.fps*this.duration):this.duration;YAHOO.util.AnimMgr.registerElement(this);var e=this.attributes;var t=this.getEl();var n;for(var r in e){n=this.getAttribute(r);this.setDefault(r,n)}i=true;u=0;s=new Date};this.stop=function(){if(!this.isAnimated()){return false}this.currentFrame=0;o=new Date;var e={time:o,duration:o-s,frames:u,fps:u/this.duration};i=false;u=0;this.onComplete.fire(e)};var f=function(){var e;var t=null;var n;var r;var i=this["attributes"];for(var s in i){r=i[s]["unit"]||this.defaultUnits[s]||this.defaultUnit;if(typeof i[s]["from"]!="undefined"){e=i[s]["from"]}else{e=this.getDefault(s)}if(typeof i[s]["to"]!="undefined"){t=i[s]["to"]}else if(typeof i[s]["by"]!="undefined"){if(e.constructor==Array){t=[];for(var o=0,a=e.length;o<a;++o){t[o]=e[o]+i[s]["by"][o]}}else{t=e+i[s]["by"]}}if(t!==null&&typeof t!="undefined"){n=this.doMethod(s,e,t);if((s=="width"||s=="height"||s=="opacity")&&n<0){n=0}this.setAttribute(s,n,r)}}u+=1};this._onStart=new YAHOO.util.CustomEvent("_onStart",this);this.onStart=new YAHOO.util.CustomEvent("start",this);this.onTween=new YAHOO.util.CustomEvent("tween",this);this._onTween=new YAHOO.util.CustomEvent("_tween",this);this.onComplete=new YAHOO.util.CustomEvent("complete",this);this._onTween.subscribe(f)}};YAHOO.util.AnimMgr=new function(){var e=null;var t=[];var n=0;this.fps=200;this.delay=1;this.registerElement=function(e){if(e.isAnimated()){return false}t[t.length]=e;n+=1;this.start()};this.start=function(){if(e===null){e=setInterval(this.run,this.delay)}};this.stop=function(r){if(!r){clearInterval(e);for(var i=0,s=t.length;i<s;++i){if(t[i].isAnimated()){t[i].stop()}}t=[];e=null;n=0}else{r.stop();n-=1;if(n<=0){this.stop()}}};this.run=function(){for(var e=0,n=t.length;e<n;++e){var i=t[e];if(!i||!i.isAnimated()){continue}if(i.currentFrame<i.totalFrames||i.totalFrames===null){i.currentFrame+=1;if(i.useSeconds){r(i)}i.onTween.fire();i._onTween.fire()}else{YAHOO.util.AnimMgr.stop(i)}}};var r=function(e){var t=e.totalFrames;var n=e.currentFrame;var r=e.currentFrame*e.duration*1e3/e.totalFrames;var i=new Date-e.getStartTime();var s=0;if(i<e.duration*1e3){s=Math.round((i/r-1)*e.currentFrame)}else{s=t-(n+1)}if(s>0&&isFinite(s)){if(e.currentFrame+s>=t){s=t-(n+1)}e.currentFrame+=s}}};YAHOO.util.Bezier=new function(){this.getPosition=function(e,t){var n=e.length;var r=[];for(var i=0;i<n;++i){r[i]=[e[i][0],e[i][1]]}for(var s=1;s<n;++s){for(i=0;i<n-s;++i){r[i][0]=(1-t)*r[i][0]+t*r[parseInt(i+1,10)][0];r[i][1]=(1-t)*r[i][1]+t*r[parseInt(i+1,10)][1]}}return[r[0][0],r[0][1]]}};YAHOO.util.Easing=new function(){this.easeNone=function(e,t,n,r){return t+n*(e/=r)};this.easeIn=function(e,t,n,r){return t+n*(e/=r)*e*e};this.easeOut=function(e,t,n,r){var i=(e/=r)*e;var s=i*e;return t+n*(s+ -3*i+3*e)};this.easeBoth=function(e,t,n,r){var i=(e/=r)*e;var s=i*e;return t+n*(-2*s+3*i)};this.backIn=function(e,t,n,r){var i=(e/=r)*e;var s=i*e;return t+n*(-3.4005*s*i+10.2*i*i+ -6.2*s+.4*i)};this.backOut=function(e,t,n,r){var i=(e/=r)*e;var s=i*e;return t+n*(8.292*s*i+ -21.88*i*i+22.08*s+ -12.69*i+5.1975*e)};this.backBoth=function(e,t,n,r){var i=(e/=r)*e;var s=i*e;return t+n*(.402*s*i+ -2.1525*i*i+ -3.2*s+8*i+ -2.05*e)}};YAHOO.util.Motion=function(e,t,n,r){if(e){this.initMotion(e,t,n,r)}};YAHOO.util.Motion.prototype=new YAHOO.util.Anim;YAHOO.util.Motion.prototype.defaultUnits.points="px";YAHOO.util.Motion.prototype.doMethod=function(e,t,n){var r=null;if(e=="points"){var i=this.getTranslatedPoints();var s=this.method(this.currentFrame,0,100,this.totalFrames)/100;if(i){r=YAHOO.util.Bezier.getPosition(i,s)}}else{r=this.method(this.currentFrame,t,n-t,this.totalFrames)}return r};YAHOO.util.Motion.prototype.getAttribute=function(e){var t=null;if(e=="points"){t=[this.getAttribute("left"),this.getAttribute("top")];if(isNaN(t[0])){t[0]=0}if(isNaN(t[1])){t[1]=0}}else{t=parseFloat(YAHOO.util.Dom.getStyle(this.getEl(),e))}return t};YAHOO.util.Motion.prototype.setAttribute=function(e,t,n){if(e=="points"){YAHOO.util.Dom.setStyle(this.getEl(),"left",t[0]+n);YAHOO.util.Dom.setStyle(this.getEl(),"top",t[1]+n)}else{YAHOO.util.Dom.setStyle(this.getEl(),e,t+n)}};YAHOO.util.Motion.prototype.initMotion=function(e,t,n,r){YAHOO.util.Anim.call(this,e,t,n,r);t=t||{};t.points=t.points||{};t.points.control=t.points.control||[];this.attributes=t;var i;var s=null;var o=null;this.getTranslatedPoints=function(){return o};var u=function(e,t){var n=YAHOO.util.Dom.getXY(t.getEl());e=[e[0]-n[0]+i[0],e[1]-n[1]+i[1]];return e};var a=function(){i=this.getAttribute("points");var e=this.attributes;var t=e["points"]["control"]||[];if(t.length>0&&t[0].constructor!=Array){t=[t]}if(YAHOO.util.Dom.getStyle(this.getEl(),"position")=="static"){YAHOO.util.Dom.setStyle(this.getEl(),"position","relative")}if(typeof e["points"]["from"]!="undefined"){YAHOO.util.Dom.setXY(this.getEl(),e["points"]["from"]);i=this.getAttribute("points")}else if(i[0]===0||i[1]===0){YAHOO.util.Dom.setXY(this.getEl(),YAHOO.util.Dom.getXY(this.getEl()));i=this.getAttribute("points")}var n,r;if(typeof e["points"]["to"]!="undefined"){s=u(e["points"]["to"],this);for(n=0,r=t.length;n<r;++n){t[n]=u(t[n],this)}}else if(typeof e["points"]["by"]!="undefined"){s=[i[0]+e["points"]["by"][0],i[1]+e["points"]["by"][1]];for(n=0,r=t.length;n<r;++n){t[n]=[i[0]+t[n][0],i[1]+t[n][1]]}}if(s){o=[i];if(t.length>0){o=o.concat(t)}o[o.length]=s}};this._onStart.subscribe(a)};YAHOO.util.Scroll=function(e,t,n,r){if(e){YAHOO.util.Anim.call(this,e,t,n,r)}};YAHOO.util.Scroll.prototype=new YAHOO.util.Anim;YAHOO.util.Scroll.prototype.defaultUnits.scroll=" ";YAHOO.util.Scroll.prototype.doMethod=function(e,t,n){var r=null;if(e=="scroll"){r=[this.method(this.currentFrame,t[0],n[0]-t[0],this.totalFrames),this.method(this.currentFrame,t[1],n[1]-t[1],this.totalFrames)]}else{r=this.method(this.currentFrame,t,n-t,this.totalFrames)}return r};YAHOO.util.Scroll.prototype.getAttribute=function(e){var t=null;var n=this.getEl();if(e=="scroll"){t=[n.scrollLeft,n.scrollTop]}else{t=parseFloat(YAHOO.util.Dom.getStyle(n,e))}return t};YAHOO.util.Scroll.prototype.setAttribute=function(e,t,n){var r=this.getEl();if(e=="scroll"){r.scrollLeft=t[0];r.scrollTop=t[1]}else{YAHOO.util.Dom.setStyle(r,e,t+n)}}