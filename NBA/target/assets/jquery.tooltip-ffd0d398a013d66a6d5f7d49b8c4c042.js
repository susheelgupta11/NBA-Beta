(function(e){e.fn.tooltip=function(t){function n(t){var n=e(t).find(config.dialog_content_selector);var r=i(n);var s=e(t).hasClass("tooltiptopright");var o=e(t).hasClass("tooltipbottomright");var u=e(t).hasClass("tooltiptop");var a=e(t).hasClass("tooltipbottom");var f=s||o||u||a;var l;var c=e(t).offset();if(s||!f&&c.top<e(r).outerHeight()&&c.top>=config.arrow_top_offset){l={start:{left:c.left+e(t).outerWidth()+config.animation_distance,top:c.top+e(t).outerHeight()/2-config.arrow_top_offset},end:{left:c.left+e(t).outerWidth(),top:c.top+e(t).outerHeight()/2-config.arrow_top_offset},arrow_class:"div.left_arrow"}}else if(o||!f&&c.left<config.arrow_left_offset+e(t).outerWidth()&&c.top>e(r).outerHeight()){l={start:{left:c.left+e(t).outerWidth()+config.animation_distance,top:c.top+e(t).outerHeight()/2+config.arrow_top_offset-e(r).outerHeight()+config.arrow_height},end:{left:c.left+e(t).outerWidth(),top:c.top+e(t).outerHeight()/2+config.arrow_top_offset-e(r).outerHeight()+config.arrow_height},arrow_class:"div.left_arrow"};e(r).find("div.left_arrow").css({top:e(r).outerHeight()-config.arrow_top_offset*2+"px"})}else if(u||!f&&c.top+config.animation_distance>e(r).outerHeight()&&c.left>=config.arrow_left_offset){l={start:{left:c.left+e(t).outerWidth()/2-config.arrow_left_offset,top:c.top-config.animation_distance-e(r).outerHeight()},end:{left:c.left+e(t).outerWidth()/2-config.arrow_left_offset,top:c.top-e(r).outerHeight()+config.arrow_height},arrow_class:"div.down_arrow"}}else if(a||!f&&c.top+config.animation_distance<e(r).outerHeight()){l={start:{left:c.left+e(t).outerWidth()/2-config.arrow_left_offset,top:c.top+e(t).outerHeight()+config.animation_distance},end:{left:c.left+e(t).outerWidth()/2-config.arrow_left_offset,top:c.top+e(t).outerHeight()},arrow_class:"div.up_arrow"}}e(r).css({top:l.start.top+"px",left:l.start.left+"px",opacity:config.opacity});e(r).find("div.arrow").hide();e(r).find(l.arrow_class).show();e(r).animate({top:l.end.top,left:l.end.left,opacity:"toggle"},config.animation_duration_ms)}function r(t){e("body").find("div.jquery-gdakram-tooltip").stop().remove()}function i(t){var n=e(t).attr("title")?"<h1>"+e(t).attr("title")+"</h1>":"";return e("<div class='jquery-gdakram-tooltip'>         <div class='up_arrow arrow'></div>         <div class='left_arrow arrow'></div>         <div class='content'>"+n+e(t).html()+"</div>         <div style='clear:both'></div>         <div class='down_arrow arrow'></div>       </div>").appendTo("body")}config={dialog_content_selector:"span.tooltip_description",animation_distance:50,opacity:1,arrow_left_offset:70,arrow_top_offset:50,arrow_height:20,arrow_width:20,animation_duration_ms:300,event_in:"mouseover",event_out:"mouseout",hover_delay:0};if(t)e.extend(config,t);this.each(function(){var t;e(this).bind(config.event_in,function(){var e=this;t=setTimeout(function(){n(e)},config.hover_delay)}).bind(config.event_out,function(){clearTimeout(t);r(this)})});return this}})(jQuery)